---
#==============================================================#
# File      :   rpm.yml
# Desc      :   Pigsty building environment for EL 7-9
# Ctime     :   2022-10-12
# Mtime     :   2024-07-08
# Docs      :   https://pigsty.io/docs/setup/config/
# Author    :   Ruohang Feng (rh@vonng.com)
# License   :   AGPLv3
#==============================================================#

# Enterprise Linux Building Specs

#==============================================================#
# 1.  el7 : 10.10.10.7  (4 Core | 8GB)  CentOS 7.9             #
# 2.  el8 : 10.10.10.8  (4 Core | 8GB)  Rocky  8.9             #
# 3.  el9 : 10.10.10.9  (4 Core | 8GB)  Rocky  9.3             #
#==============================================================#

all:

  children:
    infra:
      hosts:
        10.10.10.7:  { infra_seq: 1, admin_ip: 10.10.10.7  }
        10.10.10.8:  { infra_seq: 2, admin_ip: 10.10.10.8  }
        10.10.10.9:  { infra_seq: 3, admin_ip: 10.10.10.9  }
      vars: { node_conf: oltp }

    etcd:
      hosts:
        10.10.10.7:  { etcd_seq: 1 }
        10.10.10.8:  { etcd_seq: 2 }
        10.10.10.9:  { etcd_seq: 3 }
      vars: {  etcd_cluster: etcd  }

    #----------------------------------#
    # build el7 packages on CentOS 7.9
    #----------------------------------#
    el7:
      hosts: { 10.10.10.7: { pg_seq: 1, pg_role: primary } }
      vars:
        admin_ip: 10.10.10.7
        pg_cluster: pg-el7
        pg_version: 15 # EL7 only have PG 15 support
        repo_packages:
          - ansible python3 python3-pip python36-virtualenv python36-requests python36-idna yum-utils createrepo_c sshpass                                                  # Distro & Boot
          - nginx dnsmasq etcd haproxy vip-manager pg_exporter pgbackrest_exporter                                                                                          # Pigsty Addons
          - grafana loki logcli promtail prometheus2 alertmanager pushgateway node_exporter blackbox_exporter nginx_exporter keepalived_exporter                            # Infra Packages
          - redis_exporter docker-ce docker-compose-plugin redis minio mcli ferretdb duckdb                                                                                 # Miscellaneous
          - lz4 unzip bzip2 zlib yum pv jq git ncdu make patch bash lsof wget uuid tuned nvme-cli numactl grubby sysstat iotop htop rsync tcpdump perf flamegraph           # Node Packages 1
          - netcat socat ftp lrzsz net-tools ipvsadm bind-utils telnet audit ca-certificates readline vim-minimal keepalived chrony openssl openssh-server openssh-clients  # Node Packages 2
          - patroni patroni-etcd pgbouncer pgbadger pgbackrest pgloader pg_activity pg_filedump timescaledb-tools scws pgFormatter pgxnclient luapgsql pgcopydb             # PG Common Tools
          - postgresql15* pg_repack_15* wal2json_15* passwordcheck_cracklib_15* pglogical_15* pg_cron_15* postgis33_15* timescaledb-2-postgresql-15* pgvector_15* citus_15* # PGDG 15 Packages
          - imgsmlr_15* pg_bigm_15* pg_similarity_15* pgsql_http_15* pgsql_gzip_15* vault_15 pgjwt_15 pg_tle_15* pg_roaringbitmap_15* pointcloud_15* zhparser_15* apache-age_15* hydra_15* pg_sparse_15* md5hash_15* pg_dirtyread_15* pg_filedump_15*
          - orafce_15* mysqlcompat_15 mongo_fdw_15* tds_fdw_15* mysql_fdw_15 hdfs_fdw_15 sqlite_fdw_15* pgbouncer_fdw_15 multicorn2_15* powa_15* pg_stat_kcache_15* pg_stat_monitor_15* pg_qualstats_15* pg_track_settings_15* pg_wait_sampling_15* system_stats_15* bgw_replstatus_15*
          - plprofiler_15* plproxy_15 plsh_15* pldebugger_15 plpgsql_check_15* pgtt_15 pgq_15* hypopg_15* timestamp9_15* semver_15* prefix_15* periods_15* ip4r_15* tdigest_15* hll_15* pgmp_15 topn_15* geoip_15 extra_window_functions_15 pgsql_tweaks_15 count_distinct_15 pg_bulkload_15*
          - pg_background_15 e-maj_15 pg_catcheck_15 pg_prioritize_15 pgcryptokey_15 logerrors_15 pg_top_15 pg_comparator_15 pg_ivm_15* pgsodium_15* pgfincore_15* ddlx_15 credcheck_15 safeupdate_15 pg_squeeze_15* pg_fkpart_15 pg_jobmon_15 rum_15 pgagent_15 postgresql_anonymizer_15*
          - pg_partman_15 pg_permissions_15 pgexportdoc_15 pgimportdoc_15 pg_statement_rollback_15* pg_auth_mon_15* pg_checksums_15 pg_auto_failover_15* pg_failover_slots_15 pg_readonly_15* postgresql-unit_15* pg_store_plans_15* pg_uuidv7_15* set_user_15* pgaudit17_15 pgauditlogtofile_15*
        pg_extensions: # choose one from citus or hydra
          - timescaledb postgis33 pointcloud ip4r geoip # pgrouting h3
          - vector pg_bigm zhparser imgsmlr pg_similarity
          - hydra pg_fkpart pg_partman # citus plproxy pg_strom
          - age hypopg pg_ivm pgq pgtt periods pg_statement_rollback hll rum
          - pgjwt pg_uuidv7 pg_background gzip http pg_net pgsql_tweaks count_distinct extra_window_functions tdigest topn mysqlcompat
          - mongo_fdw multicorn2 mysql_fdw sqlite_fdw tds_fdw hdfs_fdw pgbouncer_fdw orafce pg_dbms_job # oracle_fdw db2_fdw
          - prefix timestamp9 semver pgmp roaringbitmap md5hash pg_tle luapgsql pldebugger plpgsql_check plprofiler plsh faker pgtap uint # plr dbt2
          - pg_repack pg_cron pg_squeeze pg_dirtyread pgfincore pg_prioritize pg_readonly pg_checksums safeupdate ddlx pg_permissions pgxnclient pg_catcheck filedump pgagent # pgpool
          - pg_stat_kcache pg_stat_monitor pg_qualstats pg_store_plans pg_top pg_track_settings pg_wait_sampling system_stats bgw_replstatus powa # pgexporter_ext
          - passwordcheck_cracklib pgsodium vault anon pgaudit pgauditlogtofile pg_auth_mon credcheck pgcryptokey pg_jobmon logerrors set_user
          - pglogical wal2json pg_failover_slots pg_bulkload pg_comparator pgimportdoc pgexportdoc pgcopydb pgloader # repmgr


    #----------------------------------#
    # build el8 packages on Rocky 8.9
    #----------------------------------#
    el8:
      hosts: { 10.10.10.8: { pg_seq: 1, pg_role: primary } }
      vars:
        admin_ip: 10.10.10.8
        pg_cluster: pg-el8
        repo_extra_packages:
          - python3.12-jmespath pgxnclient table_version_16*
          # too heavy # - plr_16* repmgr_16* pgexporter_ext_16* dbt2-pg16-extensions* pgpool-II-pg16-extensions
          # not ready # - mysqlcompat_16 plproxy_16 geoip_16 postgresql-unit_16*
        pg_extensions: # citus & hydra are exclusive
          - timescaledb postgis pgrouting pointcloud h3 ip4r # geoip
          - vector vectorscale vectorize pg_tiktoken pgml pg_search pg_bigm zhparser
          - hydra duckdb_fdw parquet_s3_fdw pg_lakehouse pg_tier pg_fkpart pg_partman # citus plproxy pg_strom
          - age pg_graphql pg_jsonschema jsquery pg_hint_plan hypopg pg_ivm pgmq pgq pgtt temporal_tables emaj periods pg_statement_rollback hll rum table_version
          - pgjwt pg_idkit pg_uuidv7 pg_later pg_background gzip http pg_net pgsql_tweaks count_distinct extra_window_functions tdigest pg_extra_time topn # mysqlcompat
          - wrappers mongo_fdw multicorn2 mysql_fdw ogr_fdw sqlite_fdw tds_fdw hdfs_fdw pgbouncer_fdw orafce pgmemcache pg_dbms_lock pg_dbms_metadata pg_dbms_job # oracle_fdw db2_fdw
          - prefix timestamp9 semver pgmp uint roaringbitmap md5hash pg_tle plv8 pllua luapgsql plprql pldebugger plpgsql_check plprofiler plsh faker pgtap # pljava plr dbt2
          - pg_repack pg_cron pg_squeeze pg_dirtyread pgdd pgfincore pgl_ddl_deploy pg_prioritize pg_readonly pgagent pg_checksums safeupdate ddlx pg_permissions pg_auto_failover pg_catcheck filedump # pgpool
          - pg_profile pg_show_plans pg_stat_kcache pg_stat_monitor pg_qualstats pg_statviz pg_store_plans pg_top pg_track_settings pg_wait_sampling system_stats bgw_replstatus powa-archivist powa pgmeminfo # pgexporter_ext
          - passwordcheck_cracklib pgsodium vault anon pg_tde pgsmcrypto pgaudit pgauditlogtofile pg_auth_mon credcheck pgcryptokey pg_jobmon logerrors login_hook set_user
          - pglogical decoderbufs wal2json wal2mongo pg_failover_slots pg_fact_loader pg_bulkload pg_comparator pgimportdoc pgexportdoc pgcopydb pgloader # repmgr
          - gis-stack rag-stack fdw-stack etl-stack olap-stack supa-stack stat-stack json-stack test-stack

    #----------------------------------#
    # build el9 packages on Rocky 9.1
    #----------------------------------#
    el9:
      hosts: { 10.10.10.9: { pg_seq: 1, pg_role: primary } }
      vars:
        admin_ip: 10.10.10.9
        pg_cluster: pg-el9
        repo_extra_packages:
          - sequential_uuids_16* firebird_fdw_16*
          # too heavy # - plr_16* repmgr_16* pgexporter_ext_16* dbt2-pg16-extensions* pgpool-II-pg16-extensions pljava_16*
          # not ready # - mysqlcompat_16 plproxy_16 geoip_16 postgresql-unit_16* table_version_16*
        pg_extensions: # citus & hydra are exclusive
          - timescaledb postgis pgrouting pointcloud h3 ip4r # geoip
          - vector vectorscale vectorize pg_tiktoken pgml pg_search pg_bigm zhparser
          - hydra duckdb_fdw parquet_s3_fdw pg_lakehouse pg_tier pg_fkpart pg_partman # citus plproxy pg_strom
          - age pg_graphql pg_jsonschema jsquery pg_hint_plan hypopg pg_ivm pgmq pgq pgtt temporal_tables emaj periods pg_statement_rollback hll rum # table_version
          - pgjwt pg_idkit pg_uuidv7 pg_later pg_background gzip http pg_net pgsql_tweaks count_distinct extra_window_functions tdigest pg_extra_time topn sequential_uuids # mysqlcompat
          - wrappers mongo_fdw multicorn2 mysql_fdw ogr_fdw sqlite_fdw tds_fdw hdfs_fdw pgbouncer_fdw orafce pgmemcache pg_dbms_lock pg_dbms_metadata pg_dbms_job firebird_fdw # oracle_fdw db2_fdw
          - prefix timestamp9 semver pgmp uint roaringbitmap md5hash pg_tle plv8 pllua luapgsql plprql pldebugger plpgsql_check plprofiler plsh faker pgtap # pljava plr dbt2
          - pg_repack pg_cron pg_squeeze pg_dirtyread pgdd pgfincore pgl_ddl_deploy pg_prioritize pg_readonly pgagent pg_checksums safeupdate ddlx pg_permissions pg_auto_failover pg_catcheck filedump # pgpool
          - pg_profile pg_show_plans pg_stat_kcache pg_stat_monitor pg_qualstats pg_statviz pg_store_plans pg_top pg_track_settings pg_wait_sampling system_stats bgw_replstatus powa-archivist powa pgmeminfo # pgexporter_ext
          - passwordcheck_cracklib pgsodium vault anon pg_tde pgsmcrypto pgaudit pgauditlogtofile pg_auth_mon credcheck pgcryptokey pg_jobmon logerrors login_hook set_user
          - pglogical decoderbufs wal2json wal2mongo pg_failover_slots pg_fact_loader pg_bulkload pg_comparator pgimportdoc pgexportdoc pgcopydb pgloader # repmgr
          - gis-stack rag-stack fdw-stack etl-stack olap-stack supa-stack stat-stack json-stack test-stack

    #----------------------------------#
    # Validating on compatible distros
    #----------------------------------#
    # # RHEL 7/8/9
    # rhel7:
    #   hosts: { 10.10.10.27: { pg_seq: 1, pg_role: primary } }
    #   vars: { admin_ip: 10.10.10.27 ,pg_cluster: pg-rhel7 }
    # rhel8:
    #   hosts: { 10.10.10.28: { pg_seq: 1, pg_role: primary } }
    #   vars: { admin_ip: 10.10.10.28 , pg_cluster: pg-rhel8 }
    # rhel9:
    #   hosts: { 10.10.10.29: { pg_seq: 1, pg_role: primary } }
    #   vars: { admin_ip: 10.10.10.29 , pg_cluster: pg-rhel9 }
    # # AlmaLinux 8/9
    # alma8:
    #   hosts: { 10.10.10.38: { pg_seq: 1, pg_role: primary } }
    #   vars: { admin_ip: 10.10.10.38 , pg_cluster: pg-alma8 }
    # alma9:
    #   hosts: { 10.10.10.39: { pg_seq: 1, pg_role: primary } }
    #   vars: { admin_ip: 10.10.10.39 , pg_cluster: pg-alma9 }
    # # OracleLinux 8/9
    # oracle8:
    #   hosts: { 10.10.10.48: { pg_seq: 1, pg_role: primary } }
    #   vars: { admin_ip: 10.10.10.48 , pg_cluster: pg-oracle8 }
    # oracle9:
    #   hosts: { 10.10.10.49: { pg_seq: 1, pg_role: primary } }
    #   vars: { admin_ip: 10.10.10.49 , pg_cluster: pg-oracle9 }

  vars:
    version: v2.8.0
    admin_ip: 10.10.10.8
    region: china
    etcd_clean: true
    proxy_env:                        # global proxy env when downloading packages
      no_proxy: "localhost,127.0.0.1,10.0.0.0/8,192.168.0.0/16,*.pigsty,*.aliyun.com,mirrors.*,*.myqcloud.com,*.tsinghua.edu.cn"

    # EL general building settings: use local building repo rather than upstream
    repo_upstream:
      - { name: pigsty-local   ,description: 'Pigsty Local'      ,module: local ,releases: [7,8,9] ,baseurl: { default: 'http://${admin_ip}/pigsty'  }} # used by intranet nodes
      - { name: pigsty-infra   ,description: 'Pigsty INFRA'      ,module: infra ,releases: [7,8,9] ,baseurl: { default: 'http://10.10.10.1/rpm/infra/$basearch'               ,china: 'http://10.10.10.1/rpm/infra/$basearch' }}
      - { name: pigsty-pgsql   ,description: 'Pigsty PGSQL'      ,module: pgsql ,releases: [7,8,9] ,baseurl: { default: 'http://10.10.10.1/rpm/pgsql/el$releasever.$basearch' ,china: 'http://10.10.10.1/rpm/pgsql/el$releasever.$basearch' }}
      - { name: nginx          ,description: 'Nginx Repo'        ,module: infra ,releases: [7,8,9] ,baseurl: { default: 'https://nginx.org/packages/centos/$releasever/$basearch/' }}
      - { name: docker-ce      ,description: 'Docker CE'         ,module: infra ,releases: [7,8,9] ,baseurl: { default: 'https://download.docker.com/linux/centos/$releasever/$basearch/stable'    ,china: 'https://mirrors.aliyun.com/docker-ce/linux/centos/$releasever/$basearch/stable'  ,europe: 'https://mirrors.xtom.de/docker-ce/linux/centos/$releasever/$basearch/stable' }}
      - { name: base           ,description: 'EL 7 Base'         ,module: node  ,releases: [7    ] ,baseurl: { default: 'https://vault.centos.org/7.9.2009/os/$basearch/'                          ,china: 'https://mirrors.aliyun.com/centos/$releasever/os/$basearch/'       }}
      - { name: updates        ,description: 'EL 7 Updates'      ,module: node  ,releases: [7    ] ,baseurl: { default: 'https://vault.centos.org/7.9.2009/updates/$basearch/'                     ,china: 'https://mirrors.aliyun.com/centos/$releasever/updates/$basearch/'  }}
      - { name: extras         ,description: 'EL 7 Extras'       ,module: node  ,releases: [7    ] ,baseurl: { default: 'https://vault.centos.org/7.9.2009/extras/$basearch/'                      ,china: 'https://mirrors.aliyun.com/centos/$releasever/extras/$basearch/'   }}
      - { name: epel           ,description: 'EL 7 EPEL'         ,module: node  ,releases: [7    ] ,baseurl: { default: 'http://download.fedoraproject.org/pub/epel/$releasever/$basearch/'        ,china: 'https://mirrors.aliyun.com/epel/$releasever/$basearch/' ,europe: 'https://mirrors.xtom.de/epel/$releasever/$basearch/' }}
      - { name: centos-sclo    ,description: 'EL 7 SCLo'         ,module: node  ,releases: [7    ] ,baseurl: { default: 'https://vault.centos.org/7.9.2009/sclo/$basearch/sclo/'                   ,china: 'https://mirrors.aliyun.com/centos/$releasever/sclo/$basearch/sclo/' }}
      - { name: centos-sclo-rh ,description: 'EL 7 SCLo rh'      ,module: node  ,releases: [7    ] ,baseurl: { default: 'https://vault.centos.org/7.9.2009/sclo/$basearch/rh/'                     ,china: 'https://mirrors.aliyun.com/centos/$releasever/sclo/$basearch/rh/'   }}
      - { name: baseos         ,description: 'EL 8+ BaseOS'      ,module: node  ,releases: [  8,9] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/BaseOS/$basearch/os/'     ,china: 'https://mirrors.aliyun.com/rockylinux/$releasever/BaseOS/$basearch/os/'          ,europe: 'https://mirrors.xtom.de/rocky/$releasever/BaseOS/$basearch/os/'     }}
      - { name: appstream      ,description: 'EL 8+ AppStream'   ,module: node  ,releases: [  8,9] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/AppStream/$basearch/os/'  ,china: 'https://mirrors.aliyun.com/rockylinux/$releasever/AppStream/$basearch/os/'       ,europe: 'https://mirrors.xtom.de/rocky/$releasever/AppStream/$basearch/os/'  }}
      - { name: extras         ,description: 'EL 8+ Extras'      ,module: node  ,releases: [  8,9] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/extras/$basearch/os/'     ,china: 'https://mirrors.aliyun.com/rockylinux/$releasever/extras/$basearch/os/'          ,europe: 'https://mirrors.xtom.de/rocky/$releasever/extras/$basearch/os/'     }}
      - { name: powertools     ,description: 'EL 8 PowerTools'   ,module: node  ,releases: [  8  ] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/PowerTools/$basearch/os/' ,china: 'https://mirrors.aliyun.com/rockylinux/$releasever/PowerTools/$basearch/os/'      ,europe: 'https://mirrors.xtom.de/rocky/$releasever/PowerTools/$basearch/os/' }}
      - { name: crb            ,description: 'EL 9 CRB'          ,module: node  ,releases: [    9] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/CRB/$basearch/os/'        ,china: 'https://mirrors.aliyun.com/rockylinux/$releasever/CRB/$basearch/os/'             ,europe: 'https://mirrors.xtom.de/rocky/$releasever/CRB/$basearch/os/'        }}
      - { name: epel           ,description: 'EL 8+ EPEL'        ,module: node  ,releases: [  8,9] ,baseurl: { default: 'http://download.fedoraproject.org/pub/epel/$releasever/Everything/$basearch/' ,china: 'https://mirrors.tuna.tsinghua.edu.cn/epel/$releasever/Everything/$basearch/'     ,europe: 'https://mirrors.xtom.de/epel/$releasever/Everything/$basearch/'     }}
      - { name: pgdg-common    ,description: 'PostgreSQL Common' ,module: pgsql ,releases: [7,8,9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/common/redhat/rhel-$releasever-$basearch' ,china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/redhat/rhel-$releasever-$basearch' , europe: 'https://mirrors.xtom.de/postgresql/repos/yum/common/redhat/rhel-$releasever-$basearch' }}
      - { name: pgdg-extras    ,description: 'PostgreSQL Extra'  ,module: pgsql ,releases: [7,8,9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch' ,china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch' , europe: 'https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch' }}
      - { name: pgdg-el8fix    ,description: 'PostgreSQL EL8FIX' ,module: pgsql ,releases: [  8  ] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/common/pgdg-centos8-sysupdates/redhat/rhel-8-x86_64/' ,china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-centos8-sysupdates/redhat/rhel-8-x86_64/' , europe: 'https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-centos8-sysupdates/redhat/rhel-8-x86_64/' } }
      - { name: pgdg-el9fix    ,description: 'PostgreSQL EL9FIX' ,module: pgsql ,releases: [    9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/common/pgdg-rocky9-sysupdates/redhat/rhel-9-x86_64/'  ,china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-rocky9-sysupdates/redhat/rhel-9-x86_64/' , europe: 'https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-rocky9-sysupdates/redhat/rhel-9-x86_64/' }}
      - { name: pgdg15         ,description: 'PostgreSQL 15'     ,module: pgsql ,releases: [7    ] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/15/redhat/rhel-$releasever-$basearch' ,china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/15/redhat/rhel-$releasever-$basearch' ,europe: 'https://mirrors.xtom.de/postgresql/repos/yum/15/redhat/rhel-$releasever-$basearch' }}
      - { name: pgdg16         ,description: 'PostgreSQL 16'     ,module: pgsql ,releases: [  8,9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/16/redhat/rhel-$releasever-$basearch' ,china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/16/redhat/rhel-$releasever-$basearch' ,europe: 'https://mirrors.xtom.de/postgresql/repos/yum/16/redhat/rhel-$releasever-$basearch' }}
      - { name: timescaledb    ,description: 'TimescaleDB'       ,module: pgsql ,releases: [7,8,9] ,baseurl: { default: 'https://packagecloud.io/timescale/timescaledb/el/$releasever/$basearch'  }}
      #- { name: pgdg15-nonfree ,description: 'PostgreSQL 15+'    ,module: pgsql ,releases: [7,8,9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/non-free/15/redhat/rhel-$releasever-$basearch' ,china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/non-free/15/redhat/rhel-$releasever-$basearch' ,europe: 'https://mirrors.xtom.de/postgresql/repos/yum/non-free/15/redhat/rhel-$releasever-$basearch' }}
      #- { name: pgdg16-nonfree ,description: 'PostgreSQL 16+'    ,module: pgsql ,releases: [  8,9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/non-free/16/redhat/rhel-$releasever-$basearch' ,china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/non-free/16/redhat/rhel-$releasever-$basearch' ,europe: 'https://mirrors.xtom.de/postgresql/repos/yum/non-free/16/redhat/rhel-$releasever-$basearch' }}
    repo_url_packages:
      - http://10.10.10.1/etc/pev.html
      - http://10.10.10.1/etc/chart.tgz
      - http://10.10.10.1/etc/plugins.tgz


...